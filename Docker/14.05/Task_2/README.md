# Terraform EC2 Deployment

Этот проект использует Terraform для автоматизированного развертывания EC2-инстансов в AWS. Вся конфигурация организована через декларативный код Terraform и использует переменные для гибкости.

## Структура файлов

- **`main.tf`**: Основной конфигурационный файл, который описывает ресурсы AWS, такие как EC2-инстанс.
- **`variables.tf`**: Объявление переменных, используемых для параметризации конфигурации.
- **`.terraform.tfvars`**: Файл, содержащий значения переменных, таких как VPC ID, подсети, размер инстансов и другие параметры.
- **`outputs.tf`**: Определяет выводы (outputs), такие как публичный IP-адрес инстанса после создания.
- **`providers.tf`**: Описание провайдеров, таких как AWS, и их конфигурация.
- **`install_ec2_docker.sh`**: Скрипт для установки Docker на EC2-инстансе, который передается через `user_data`.
- **`.gitignore`**: Игнорирует файлы, которые не должны быть в системе контроля версий, включая `.terraform.tfvars`.

## Требования

- Установленный [Terraform](https://www.terraform.io/downloads).
- Настроенный [AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html) с доступом к AWS аккаунту.
- Файл `.terraform.tfvars`, содержащий значения переменных (например, VPC ID, публичные подсети, ключи SSH и т.д.).

## Использование

### Шаг 1: Инициализация Terraform
Перед началом работы необходимо инициализировать проект для загрузки необходимых плагинов:
```bash
terraform init
```

### Шаг 2: Просмотр плана изменений
Для проверки изменений
```commandline
terraform plan -var-file=".terraform.tfvars"
```

### Шаг 3: Применение конфигурации
Для развертывания инфраструктуры
```commandline
terraform apply -var-file=".terraform.tfvars"
```

### Шаг 4: Удаление инфраструктуры
Удаляем 
```commandline
terraform destroy -var-file=".terraform.tfvars"
```