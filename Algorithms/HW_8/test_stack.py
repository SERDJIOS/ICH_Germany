from stack import Stack

def test_stack():
    # Создаем новый стек
    stack = Stack()
    
    # Проверяем пустой ли стек
    print("Стек пустой?", stack.empty())  # Должно вывести: True
    
    # Тестируем операцию push (добавление элементов)
    print("\nДобавляем элементы: 1, 2, 3")
    stack.push(1)
    stack.push(2)
    stack.push(3)
    
    # Проверяем пустой ли стек после добавления элементов
    print("Стек пустой?", stack.empty())  # Должно вывести: False
    
    # Тестируем peek() (просмотр верхнего элемента)
    print("Верхний элемент стека:", stack.peek())  # Должно вывести: 3
    
    # Тестируем search() (поиск элементов)
    print("\nПоиск элементов:")
    print("Позиция элемента 3:", stack.search(3))  # Должно вывести: 0 (вершина)
    print("Позиция элемента 2:", stack.search(2))  # Должно вывести: 1
    print("Позиция элемента 1:", stack.search(1))  # Должно вывести: 2
    print("Позиция элемента 4:", stack.search(4))  # Должно вывести: -1 (не найден)
    
    # Тестируем операцию pop (удаление элементов)
    print("\nУдаляем элементы:")
    print("Удален элемент:", stack.pop())  # Должно вывести: 3
    print("Удален элемент:", stack.pop())  # Должно вывести: 2
    print("Удален элемент:", stack.pop())  # Должно вывести: 1
    
    # Проверяем пустой ли стек после удаления всех элементов
    print("\nСтек пустой?", stack.empty())  # Должно вывести: True
    
    # Тестируем обработку ошибок
    try:
        stack.pop()
    except IndexError as e:
        print("\nОшибка при попытке удаления из пустого стека:", str(e))
    
    try:
        stack.peek()
    except IndexError as e:
        print("Ошибка при попытке просмотра пустого стека:", str(e))

if __name__ == "__main__":
    test_stack() 